/*! 
 Build based on gin-vue-admin 
 Time : 1684227215000 */
import{u as e,b as a,U as l,r as s,a as t,O as o,o as n,h as i,w as u,P as d,d as r,a1 as c,e as m,j as p,c as v,F as f,x as h,t as g,i as y,q as k,a2 as b,a3 as x,H as _,a4 as j,a5 as w,I as C,v as I,L as M,y as O,W as L,T as q,a6 as A,Q as S,V,z as N,C as T,a7 as U,B as z,a8 as D,a9 as E,A as H,aa as K,ab as P,ac as R,ad as W,ae as $,af as B,a0 as F}from"./80index.4aac0417.js";import"./80loading.4ed993c7.js";import"./80button.4ed993c7.js";import"./80popper.4ed993c7.js";import"./80scrollbar.4ed993c7.js";import"./80icon.4ed993c7.js";import"./80col.4ed993c7.js";import{_ as G}from"./80goAdmin80.4b5a33c8.js";import Q from"./80index.b1af4d89.js";import X from"./80history.1bc50df2.js";import Y from"./80search.4b373149.js";import Z from"./80bottomInfo.42ebb127.js";import{C as J}from"./80index.391a3388.js";import"./80dialog.4ed993c7.js";import"./80overlay.4ed993c7.js";import ee from"./80index.27f9f889.js";import"./80tooltip.4ed993c7.js";import"./80index.18903f8f.js";import"./80menuItem.4e9a9221.js";import"./80_plugin-vue_export-helper.1b428a4d.js";import"./80asyncSubmenu.98a2b2d0.js";import"./80tab-pane.4ed993c7.js";import"./80index.df50f7b5.js";import"./80drawer.4ed993c7.js";const ae={key:0,class:"quick-title"},le=["onClick"],se={class:"dialog-footer"},te={name:"CommandMenu"},oe=Object.assign(te,{setup(x,{expose:_}){const j=e(),w=e(),C=a(),I=l(),M=s(!1),O=s(""),L=t([]),q=e=>{const a=[];return e.forEach((e=>{e.children&&e.children.length>0?a.push(...q(e.children)):e.meta.title&&e.meta.title.indexOf(O.value)>-1&&a.push({label:e.meta.title,func:()=>V(e)})})),a},A=()=>{const e={label:"跳转",children:[]},a=q(I.asyncRouters[0].children);e.children.push(...a),L.push(e)},S=()=>{const e={label:"操作",children:[]},a=[{label:"亮色主题",func:()=>N("light")},{label:"暗色主题",func:()=>N("dark")},{label:"退出登录",func:()=>C.LoginOut()}];e.children.push(...a.filter((e=>e.label.indexOf(O.value)>-1))),L.push(e)};A(),S();const V=e=>{var a,l;const s=e.name,t={},o={};(null==(a=I.routeMap[s])?void 0:a.parameters)&&(null==(l=I.routeMap[s])||l.parameters.forEach((e=>{"query"===e.type?t[e.key]=e.value:o[e.key]=e.value}))),s!==w.name&&(e.name.indexOf("http://")>-1||e.name.indexOf("https://")>-1?window.open(e.name):j.push({name:s,query:t,params:o}),M.value=!1)},N=e=>{null!==e?C.changeSideMode(e):C.changeSideMode("dark")},T=()=>{M.value=!1};return _({open:()=>{M.value=!0}}),o(O,(()=>{L.length=0,A(),S()})),(e,a)=>{const l=k,s=b;return n(),i(s,{modelValue:M.value,"onUpdate:modelValue":a[1]||(a[1]=e=>M.value=e),width:"30%",class:"overlay","show-close":!1},{header:u((()=>[d(r("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>O.value=e),class:"quick-input",placeholder:"请输入你需要快捷到达的功能"},null,512),[[c,O.value]])])),footer:u((()=>[r("span",se,[m(l,{onClick:T},{default:u((()=>[p("关闭")])),_:1})])])),default:u((()=>[(n(!0),v(f,null,h(L,((e,a)=>(n(),v("div",{key:a},[e.children.length?(n(),v("div",ae,g(e.label),1)):y("",!0),(n(!0),v(f,null,h(e.children,((e,l)=>(n(),v("div",{key:a+"-"+l,class:"quick-item",onClick:e.func},g(e.label),9,le)))),128))])))),128))])),_:1},8,["modelValue"])}}}),ne=r("img",{alt:"",class:"logoimg",src:G},null,-1),ie={key:0,class:"gvaIcon gvaIcon-arrow-double-right"},ue={key:1,class:"gvaIcon gvaIcon-arrow-double-left"},de={class:"right-box"},re={class:"dp-flex justify-content-center align-items height-full width-full"},ce={class:"header-avatar",style:{cursor:"pointer"}},me=r("div",null,"指令菜单",-1),pe={style:{"margin-left":"8px"}},ve={class:"button"},fe=r("span",{class:"button"},"K",-1),he={name:"Layout"},ge=Object.assign(he,{setup(t){const o=e(),c=x(),k=l(),b=s(!1),G=s(!0),ae=s(!1),le=s("");s(!1);const se=()=>{"WIN"===window.localStorage.getItem("osType")?le.value="Ctrl":le.value="⌘";window.addEventListener("keydown",(e=>{e.ctrlKey&&"k"===e.key&&(e.preventDefault(),he())}));const e=document.body.clientWidth;e<1e3?(ae.value=!0,G.value=!1,b.value=!0):e>=1e3&&e<1200?(ae.value=!1,G.value=!1,b.value=!0):(ae.value=!1,G.value=!0,b.value=!1)};se();const te=s(),he=()=>{te.value.open()},ge=s(!1);_((()=>{j.emit("collapse",b.value),j.emit("mobile",ae.value),j.on("reload",we),j.on("showLoading",(()=>{ge.value=!0})),j.on("closeLoading",(()=>{ge.value=!1})),window.onresize=()=>(se(),j.emit("collapse",b.value),void j.emit("mobile",ae.value)),ye.loadingInstance&&ye.loadingInstance.close()}));const ye=a(),ke=w((()=>"dark"===ye.sideMode?"#fff":"light"===ye.sideMode?"#191a23":ye.baseColor)),be=w((()=>"dark"===ye.sideMode?"#191a23":"light"===ye.sideMode?"#fff":ye.sideMode)),xe=w((()=>c.meta.matched)),_e=s(!0);let je=null;const we=async()=>{je&&window.clearTimeout(je),je=window.setTimeout((async()=>{if(c.meta.keepAlive)_e.value=!1,await C(),_e.value=!0;else{const e=c.meta.title;o.push({name:"Reload",params:{title:e}})}}),400)},Ce=s(!1),Ie=()=>{b.value=!b.value,G.value=!b.value,Ce.value=!b.value,j.emit("collapse",b.value)},Me=()=>{o.push({name:"person"})};return(e,a)=>{const l=T,s=U,t=z,o=D,x=E,_=I("arrow-down"),j=H,w=K,C=P,se=R,je=W,we=I("router-view"),Oe=$,Le=B,qe=F;return n(),i(Le,{class:"layout-cont"},{default:u((()=>[m(Le,{class:M([G.value?"openside":"hideside",ae.value?"mobile":""])},{default:u((()=>[m(l,{class:M([Ce.value?"shadowBg":""]),onClick:a[0]||(a[0]=e=>(Ce.value=!Ce.value,G.value=!!b.value,void Ie()))},null,8,["class"]),m(s,{class:"main-cont main-left gva-aside"},{default:u((()=>[r("div",{class:"tilte",style:O({background:L(be)})},[ne,G.value?(n(),v("div",{key:0,class:"tit-text",style:O({color:L(ke)})},g(e.$GO_ADMIN_80.appName),5)):y("",!0)],4),m(Q,{class:"aside"})])),_:1}),m(Oe,{class:"main-cont main-right"},{default:u((()=>[m(q,{duration:{enter:800,leave:100},mode:"out-in",name:"el-fade-in-linear"},{default:u((()=>[r("div",{style:O({width:`calc(100% - ${ae.value?"0px":b.value?"54px":"220px"})`}),class:"topfix"},[m(l,null,{default:u((()=>[m(t,null,{default:u((()=>[m(je,{class:"header-cont"},{default:u((()=>[m(l,{class:"pd-0"},{default:u((()=>[m(t,{xs:2,lg:1,md:1,sm:1,xl:1,style:{"z-index":"100"}},{default:u((()=>[r("div",{class:"menu-total",onClick:Ie},[b.value?(n(),v("div",ie)):(n(),v("div",ue))])])),_:1}),m(t,{xs:10,lg:14,md:14,sm:9,xl:14,pull:1},{default:u((()=>[d(m(x,{class:"breadcrumb"},{default:u((()=>[(n(!0),v(f,null,h(L(xe).slice(1,L(xe).length),(e=>(n(),i(o,{key:e.path},{default:u((()=>[p(g(L(A)(e.meta.title,L(c))),1)])),_:2},1024)))),128))])),_:1},512),[[S,!ae.value]])])),_:1}),m(t,{xs:12,lg:9,md:9,sm:14,xl:9},{default:u((()=>[r("div",de,[m(Y),m(se,null,{dropdown:u((()=>[m(C,{class:"dropdown-group"},{default:u((()=>[m(w,{icon:"avatar"},{default:u((()=>[r("div",{class:"command-box",style:{display:"flex"},onClick:he},[me,r("div",pe,[r("span",ve,g(le.value),1),p(" + "),fe])])])),_:1}),m(w,{icon:"avatar",onClick:Me},{default:u((()=>[p("个人信息")])),_:1}),m(w,{icon:"reading-lamp",onClick:L(ye).LoginOut},{default:u((()=>[p("登 出")])),_:1},8,["onClick"])])),_:1})])),default:u((()=>[r("div",re,[r("span",ce,[m(J),d(r("span",{style:{"margin-left":"5px"}},g(L(ye).userInfo.nickName),513),[[S,!ae.value]]),m(j,null,{default:u((()=>[m(_)])),_:1})])])])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),m(X,{ref:"layoutHistoryComponent"},null,512)],4)])),_:1}),_e.value?d((n(),i(we,{"element-loading-text":"正在加载中",class:"admin-box",key:e.$route.fullPath},{default:u((({Component:e})=>[r("div",null,[m(q,{mode:"out-in",name:"el-fade-in-linear"},{default:u((()=>[(n(),i(V,{include:L(k).keepAliveRouters},[(n(),i(N(e)))],1032,["include"]))])),_:2},1024)])])),_:1})),[[qe,ge.value]]):y("",!0),m(Z),m(ee),m(oe,{ref_key:"command",ref:te},null,512)])),_:1})])),_:1},8,["class"])])),_:1})}}});export{ge as default};
