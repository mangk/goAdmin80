/*! 
 Build based on gin-vue-admin 
 Time : 1687150204000 */
import{O as e,a,b as t,o as s,d as o,f as l,w as r,k as d,t as i,X as n,m as p,s as u,aM as m}from"./80index.42aa8c03.js";import"./80progress.4ed993c7.js";import"./80button.4ed993c7.js";import{_ as f}from"./80_plugin-vue_export-helper.1b428a4d.js";const c=a=>e({url:"/fileUploadAndDownload/getFileList",method:"post",data:a}),g=a=>e({url:"/fileUploadAndDownload/deleteFile",method:"post",data:a}),h=a=>e({url:"/fileUploadAndDownload/editFileName",method:"post",data:a}),y=()=>e({url:"/fileUploadAndDownload/cfg",method:"get"}),b={name:"UploadImage",methods:{}},U=f(Object.assign(b,{props:{imageUrl:{type:String,default:""},fileSize:{type:Number,default:2048},maxWH:{type:Number,default:4096},btnName:{type:String,default:"上传"},oss:{type:String,default:""}},emits:["on-success"],setup(e,{emit:f}){const c=e,g=a("/_sys"),h=t(),y=e=>{const a="image/jpeg"===e.type,t="image/png"===e.type;if(!a&&!t)return p.error("上传头像图片只能是 jpg或png 格式!"),!1;const s=e.size/1024<c.fileSize;return s||(p.error(`上传头像图片大小应小于 ${c.fileSize}KB`),!1)},b=e=>{const{data:a}=e;a.file&&f("on-success",a.file.url)};return(e,a)=>{const t=u,p=m;return s(),o("div",null,[l(p,{action:`${g.value}/fileUploadAndDownload/upload?driver=${c.oss}`,headers:{Authorization:"Bearer "+n(h).token},"show-file-list":!1,"on-success":b,"before-upload":y,multiple:!1},{default:r((()=>[l(t,{type:"primary"},{default:r((()=>[d("上传至"+i(c.btnName),1)])),_:1})])),_:1},8,["action","headers"])])}}}),[["__scopeId","data-v-9f74ac5f"]]);export{U,g as d,h as e,c as g,y as u};
