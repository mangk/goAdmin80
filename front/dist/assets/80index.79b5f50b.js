/*! 
 Build based on gin-vue-admin 
 Time : 1725607667000 */
import{Z as e,u as a,b as l,P as s,a as t,r as o,I as n,o as i,j as u,w as d,K as r,e as c,_ as m,g as p,k as v,d as f,F as g,B as h,t as y,f as w,s as k,$ as _,a0 as x,c as b,x as j,a1 as C,a2 as O,y as I,J as M,C as L,a3 as N,D as A,T as q,a4 as E,L as S,Q as D,R as K,m as P,a5 as R,a6 as T,a7 as V,a8 as $,a9 as F,N as G,aa as U,ab as z,ac as B,ad as H,ae as J,af as W,Y}from"./80index.827ed1b1.js";import"./80loading.4ed993c7.js";import"./80button.4ed993c7.js";import"./80popper.4ed993c7.js";import"./80scrollbar.4ed993c7.js";import"./80icon.4ed993c7.js";import"./80row.4ed993c7.js";import{_ as Z}from"./80goAdmin80.7fbf172c.js";import Q from"./80index.60678095.js";import X from"./80history.0c9502c8.js";import ee from"./80search.13fc08c5.js";import"./80bottomInfo.vue_vue_type_style_index_0_lang.4ed993c7.js";import{C as ae}from"./80index.584dc53c.js";import"./80dialog.4ed993c7.js";import"./80overlay.4ed993c7.js";import le from"./80index.5b0c22d3.js";import"./80tooltip.4ed993c7.js";import"./80index.87dc0dc5.js";import"./80menuItem.f5de186e.js";import"./80_plugin-vue_export-helper.1b428a4d.js";import"./80asyncSubmenu.4009f839.js";import"./80tab-pane.4ed993c7.js";import"./80index.1b2c2d96.js";import"./80drawer.4ed993c7.js";const se={key:0,class:"quick-title"},te=["onClick"],oe={class:"dialog-footer"},ne={name:"CommandMenu"},ie=Object.assign(ne,{setup(e,{expose:x}){const b=a(),j=a(),C=l(),O=s(),I=t(!1),M=t(""),L=o([]),N=e=>{const a=[];return e.forEach((e=>{e.children&&e.children.length>0?a.push(...N(e.children)):e.meta.title&&e.meta.title.indexOf(M.value)>-1&&a.push({label:e.meta.title,func:()=>E(e)})})),a},A=()=>{const e={label:"跳转",children:[]},a=N(O.asyncRouters[0].children);e.children.push(...a),L.push(e)},q=()=>{const e={label:"操作",children:[]},a=[{label:"亮色主题",func:()=>S("light")},{label:"暗色主题",func:()=>S("dark")},{label:"退出登录",func:()=>C.LoginOut()}];e.children.push(...a.filter((e=>e.label.indexOf(M.value)>-1))),L.push(e)};A(),q();const E=e=>{var a,l;const s=e.name,t={},o={};(null==(a=O.routeMap[s])?void 0:a.parameters)&&(null==(l=O.routeMap[s])||l.parameters.forEach((e=>{"query"===e.type?t[e.key]=e.value:o[e.key]=e.value}))),s!==j.name&&(e.name.indexOf("http://")>-1||e.name.indexOf("https://")>-1?window.open(e.name):b.push({name:s,query:t,params:o}),I.value=!1)},S=e=>{null!==e?C.changeSideMode(e):C.changeSideMode("dark")},D=()=>{I.value=!1};return x({open:()=>{I.value=!0}}),n(M,(()=>{L.length=0,A(),q()})),(e,a)=>{const l=k,s=_;return i(),u(s,{modelValue:I.value,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),width:"30%",class:"overlay","show-close":!1},{header:d((()=>[r(c("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>M.value=e),class:"quick-input",placeholder:"请输入你需要快捷到达的功能"},null,512),[[m,M.value]])])),footer:d((()=>[c("span",oe,[p(l,{onClick:D},{default:d((()=>[v("关闭")])),_:1})])])),default:d((()=>[(i(!0),f(g,null,h(L,((e,a)=>(i(),f("div",{key:a},[e.children.length?(i(),f("div",se,y(e.label),1)):w("",!0),(i(!0),f(g,null,h(e.children,((e,l)=>(i(),f("div",{key:a+"-"+l,class:"quick-item",onClick:e.func},y(e.label),9,te)))),128))])))),128))])),_:1},8,["modelValue"])}}}),ue={key:0,alt:"",class:"logoimg",src:Z},de=["src"],re={key:0,class:"gvaIcon gvaIcon-arrow-double-right"},ce={key:1,class:"gvaIcon gvaIcon-arrow-double-left"},me={class:"right-box"},pe={class:"dp-flex justify-content-center align-items height-full width-full"},ve={class:"header-avatar",style:{cursor:"pointer"}},fe=c("div",null,"指令菜单",-1),ge={style:{"margin-left":"8px"}},he={class:"button"},ye=c("span",{class:"button"},"K",-1),we={name:"Layout"},ke=Object.assign(we,{setup(n){const m=a(),k=x(),_=s(),Z=t(!1),se=t(!0),te=t(!1),oe=t("");t(!1);const ne=()=>{"WIN"===window.localStorage.getItem("osType")?oe.value="Ctrl":oe.value="⌘";window.addEventListener("keydown",(e=>{e.ctrlKey&&"k"===e.key&&(e.preventDefault(),_e())}));const e=document.body.clientWidth;e<1e3?(te.value=!0,se.value=!1,Z.value=!0):e>=1e3&&e<1200?(te.value=!1,se.value=!1,Z.value=!0):(te.value=!1,se.value=!0,Z.value=!1)};ne();const we=o({name:window.g.NAME?window.g.NAME:b.appName,logo:!!window.g.LOGO&&window.g.LOGO});window.g.LOAD_INFO&&e({url:"/info",method:"get"}).then((async e=>{e.data.hasOwnProperty("message")&&P(e.data.message)}));const ke=t(),_e=()=>{ke.value.open()},xe=t(!1);j((()=>{C.emit("collapse",Z.value),C.emit("mobile",te.value),C.on("reload",Le),C.on("showLoading",(()=>{xe.value=!0})),C.on("closeLoading",(()=>{xe.value=!1})),window.onresize=()=>(ne(),C.emit("collapse",Z.value),void C.emit("mobile",te.value)),be.loadingInstance&&be.loadingInstance.close()}));const be=l(),je=O((()=>"dark"===be.sideMode?"#fff":"light"===be.sideMode?"#191a23":be.baseColor)),Ce=O((()=>"dark"===be.sideMode?"#191a23":"light"===be.sideMode?"#fff":be.sideMode)),Oe=O((()=>k.meta.matched)),Ie=t(!0);let Me=null;const Le=async()=>{Me&&window.clearTimeout(Me),Me=window.setTimeout((async()=>{if(k.meta.keepAlive)Ie.value=!1,await I(),Ie.value=!0;else{const e=k.meta.title;m.push({name:"Reload",params:{title:e}})}}),400)},Ne=t(!1),Ae=()=>{Z.value=!Z.value,se.value=!Z.value,Ne.value=!Z.value,C.emit("collapse",Z.value)},qe=()=>{m.push({name:"person"})};return(e,a)=>{const l=R,s=T,t=V,o=$,n=F,m=M("arrow-down"),x=G,b=U,j=z,C=B,O=H,I=M("router-view"),P=J,ne=W,Me=Y;return i(),u(ne,{class:"layout-cont"},{default:d((()=>[p(ne,{class:L([se.value?"openside":"hideside",te.value?"mobile":""])},{default:d((()=>[p(l,{class:L([Ne.value?"shadowBg":""]),onClick:a[0]||(a[0]=e=>(Ne.value=!Ne.value,se.value=!!Z.value,void Ae()))},null,8,["class"]),p(s,{class:"main-cont main-left gva-aside"},{default:d((()=>[c("div",{class:"tilte",style:N({background:A(Ce)})},[we.logo?w("",!0):(i(),f("img",ue)),we.logo?(i(),f("img",{key:1,alt:"",class:"logoimg",src:we.logo},null,8,de)):w("",!0),se.value?(i(),f("div",{key:2,class:"tit-text",style:N({color:A(je)})},y(we.name),5)):w("",!0)],4),p(Q,{class:"aside"})])),_:1}),p(P,{class:"main-cont main-right"},{default:d((()=>[p(q,{duration:{enter:800,leave:100},mode:"out-in",name:"el-fade-in-linear"},{default:d((()=>[c("div",{style:N({width:`calc(100% - ${te.value?"0px":Z.value?"54px":"220px"})`}),class:"topfix"},[p(l,null,{default:d((()=>[p(t,null,{default:d((()=>[p(O,{class:"header-cont"},{default:d((()=>[p(l,{class:"pd-0"},{default:d((()=>[p(t,{xs:2,lg:1,md:1,sm:1,xl:1,style:{"z-index":"100"}},{default:d((()=>[c("div",{class:"menu-total",onClick:Ae},[Z.value?(i(),f("div",re)):(i(),f("div",ce))])])),_:1}),p(t,{xs:10,lg:14,md:14,sm:9,xl:14,pull:1},{default:d((()=>[r(p(n,{class:"breadcrumb"},{default:d((()=>[(i(!0),f(g,null,h(A(Oe).slice(1,A(Oe).length),(e=>(i(),u(o,{key:e.path},{default:d((()=>[v(y(A(E)(e.meta.title,A(k))),1)])),_:2},1024)))),128))])),_:1},512),[[S,!te.value]])])),_:1}),p(t,{xs:12,lg:9,md:9,sm:14,xl:9},{default:d((()=>[c("div",me,[p(ee),p(C,null,{dropdown:d((()=>[p(j,{class:"dropdown-group"},{default:d((()=>[p(b,{icon:"avatar"},{default:d((()=>[c("div",{class:"command-box",style:{display:"flex"},onClick:_e},[fe,c("div",ge,[c("span",he,y(oe.value),1),v(" + "),ye])])])),_:1}),p(b,{icon:"avatar",onClick:qe},{default:d((()=>[v("个人信息")])),_:1}),p(b,{icon:"reading-lamp",onClick:A(be).LoginOut},{default:d((()=>[v("登 出")])),_:1},8,["onClick"])])),_:1})])),default:d((()=>[c("div",pe,[c("span",ve,[p(ae),r(c("span",{style:{"margin-left":"5px"}},y(A(be).userInfo.nickName),513),[[S,!te.value]]),p(x,null,{default:d((()=>[p(m)])),_:1})])])])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),p(X,{ref:"layoutHistoryComponent"},null,512)],4)])),_:1}),Ie.value?r((i(),u(I,{"element-loading-text":"正在加载中",class:"admin-box",key:e.$route.fullPath},{default:d((({Component:e})=>[c("div",null,[p(q,{mode:"out-in",name:"el-fade-in-linear"},{default:d((()=>[(i(),u(D,{include:A(_).keepAliveRouters},[(i(),u(K(e)))],1032,["include"]))])),_:2},1024)])])),_:1})),[[Me,xe.value]]):w("",!0),p(le),p(ie,{ref_key:"command",ref:ke},null,512)])),_:1})])),_:1},8,["class"])])),_:1})}}});export{ke as default};
